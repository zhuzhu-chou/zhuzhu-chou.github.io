(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{205:function(_,v,e){"use strict";e.r(v);var t=e(0),o=Object(t.a)({},(function(){var _=this.$createElement;this._self._c;return this._m(0)}),[function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("div",{staticClass:"content"},[e("h2",{attrs:{id:"syn-flood-攻击"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#syn-flood-攻击"}},[_._v("#")]),_._v(" "),e("code",[_._v("SYN Flood")]),_._v(" 攻击")]),_._v(" "),e("blockquote",[e("p",[_._v("常见的比如 SYN Flood 攻击")])]),_._v(" "),e("p",[e("strong",[_._v("攻击原理")])]),_._v(" "),e("p",[_._v("SYN 攻击是一种典型的 "),e("strong",[_._v("DoS/DDoS 攻击")]),_._v("。其攻击的原理很简单，就是用客户端在短时间内"),e("strong",[_._v("伪造大量不存在的 IP 地址")]),_._v("，并向服务端疯狂发送"),e("code",[_._v("SYN")]),_._v("。对于服务端（服务端更容易受到"),e("strong",[_._v("SYN攻击")]),_._v("）而言，会产生两个危险的后果:")]),_._v(" "),e("ol",[e("li",[_._v("处理大量的"),e("code",[_._v("SYN")]),_._v("包并返回对应"),e("code",[_._v("ACK")]),_._v(", 势必有大量连接处于"),e("code",[_._v("SYN_RCVD")]),_._v("状态，从而占满整个"),e("strong",[_._v("半连接队列")]),_._v("，无法处理正常的请求。")]),_._v(" "),e("li",[_._v("由于是不存在的 IP，服务端长时间收不到客户端的"),e("code",[_._v("ACK")]),_._v("，会导致服务端不断重发数据，直到"),e("strong",[_._v("耗尽服务端的资源。")])])]),_._v(" "),e("p",[_._v("检测 SYN 攻击非常的方便，当你在服务器上看到大量的半连接状态时，特别是源IP地址是随机的，基本上可以断定这是一次SYN攻击。在 Linux/Unix 上可以使用系统自带的 netstats 命令来检测 SYN 攻击。")]),_._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[_._v("netstat -n -p TCP | grep SYN_RECV\n")])]),_._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[_._v("1")]),e("br")])]),e("p",[_._v("常见的"),e("strong",[_._v("防御 SYN 攻击的方法")]),_._v("有如下几种：")]),_._v(" "),e("ol",[e("li",[_._v("增加 SYN 连接，也就是增加半连接队列的容量。")]),_._v(" "),e("li",[_._v("减少 SYN + ACK 重试次数，避免大量的超时重发。")]),_._v(" "),e("li",[_._v("利用 SYN Cookie 技术，在服务端接收到"),e("code",[_._v("SYN")]),_._v("后不立即分配连接资源，而是根据这个"),e("code",[_._v("SYN")]),_._v("计算出一个Cookie，连同第二次握手回复给客户端，在客户端回复"),e("code",[_._v("ACK")]),_._v("的时候带上这个"),e("code",[_._v("Cookie")]),_._v("值，服务端验证 Cookie 合法之后才分配连接资源。")])])])}],!1,null,null,null);v.default=o.exports}}]);