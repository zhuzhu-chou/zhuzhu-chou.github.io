(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{233:function(e,t,s){"use strict";s.r(t);var a=s(0),v=Object(a.a)({},(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("blockquote",[s("p",[e._v("工作区管理")])]),e._v(" "),s("ul",[s("li",[s("code",[e._v("git add")]),e._v(" ：到暂缓区")]),e._v(" "),s("li",[s("code",[e._v("git rm/mv")]),e._v("：删除或移动文件")]),e._v(" "),s("li",[s("code",[e._v("git checkout -- readme.txt")]),e._v("：丢弃工作区的修改。")])]),e._v(" "),s("blockquote",[s("p",[e._v("工作区状态")])]),e._v(" "),s("ul",[s("li",[s("code",[e._v("git status")]),e._v("：查看工作区状态。")]),e._v(" "),s("li",[s("code",[e._v("git diff")]),e._v("：如果 "),s("code",[e._v("git status")]),e._v(" 提示你工作区发生了改变，"),s("code",[e._v("git diff")]),e._v(" 可以用来查看发生了哪些改动。"),s("code",[e._v("git diff HEAD -- readme.txt")]),e._v("可以用来查看工作区和版本库里面最新版本的区别。")])]),e._v(" "),s("blockquote",[s("p",[e._v("版本回退")])]),e._v(" "),s("ul",[s("li",[s("code",[e._v("git reflog")]),e._v("：用来查看命令历史，可以取到你需要的"),s("code",[e._v("commit_id")]),e._v("。")]),e._v(" "),s("li",[s("code",[e._v("git reset --hard commit_id")]),e._v("：回退到具体的版本。"),s("code",[e._v("git reset --hard HEAD^")]),e._v("回退到上一个版本。")])]),e._v(" "),s("blockquote",[s("p",[e._v("分支管理")])]),e._v(" "),s("ul",[s("li",[s("p",[s("code",[e._v("git commit")]),e._v("：提交到本地库")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("git push")]),e._v("：")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("git fetch")]),e._v("：从远程主机拉取最新内容")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("git pull")]),e._v(" :\t"),s("code",[e._v("git fetch")]),e._v(" + "),s("code",[e._v("git merge")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("git merge")]),e._v("：假设现在在 master 分支，执行"),s("code",[e._v("git merge dev")]),e._v("表示把"),s("code",[e._v("dev")]),e._v("分支的工作成果合并到"),s("code",[e._v("master")]),e._v("分支上。")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("git rebase")]),e._v("：")]),e._v(" "),s("p",[e._v("假设你现在基于远程分支"),s("code",[e._v("origin")]),e._v("，创建一个叫"),s("code",[e._v("mywork")]),e._v("的分支。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://zhuzhu-chou.github.io/images/rebase0.png",alt:""}})]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git checkout -b mywork origin\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("现在我们在这个分支做一些修改，然后生成两个提交(commit)。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://zhuzhu-chou.github.io/images/rebase1.png",alt:""}})]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git checkout mywork\n$ git rebase origin\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("这些命令会把你的"),s("code",[e._v("mywork")]),e._v("分支里的每个提交("),s("code",[e._v("commit")]),e._v(")取消掉，并且把它们临时保存为补丁("),s("code",[e._v("patch")]),e._v(")(这些补丁放到"),s("code",[e._v(".git/rebase")]),e._v("目录中)，然后把"),s("code",[e._v("mywork")]),e._v("分支更新到最新的"),s("code",[e._v("origin")]),e._v("分支，最后把保存的这些补丁应用到"),s("code",[e._v("mywork")]),e._v("分支上。")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://zhuzhu-chou.github.io/images/rebase3.png",alt:""}})]),e._v(" "),s("p",[e._v("当"),s("code",[e._v("mywork")]),e._v("分支更新之后，它会指向这些新创建的提交(commit)，而那些老的提交会被丢弃。 如果运行垃圾收集命令 "),s("code",[e._v("git gc")]),e._v("，这些被丢弃的提交就会删除。")]),e._v(" "),s("p",[s("img",{attrs:{src:"/home/boygreen/%E5%9B%BE%E7%89%87/rebase4.png",alt:""}})]),e._v(" "),s("p",[e._v("现在我们可以看一下用合并(merge)和用rebase所产生的历史的区别：")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://zhuzhu-chou.github.io/images/rebase5.png",alt:""}})]),e._v(" "),s("p",[e._v("在rebase的过程中，也许会出现冲突(conflict)。在这种情况，Git会停止rebase并会让你去解决冲突；在解决完冲突后，用"),s("code",[e._v("git add")]),e._v("命令去更新这些内容的索引(index)，然后，你无需执行 "),s("code",[e._v("git commit")]),e._v("，只要执行:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git rebase --continue\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("这样"),s("code",[e._v("git")]),e._v("会继续应用("),s("code",[e._v("apply")]),e._v(")余下的补丁。")]),e._v(" "),s("p",[e._v("在任何时候，你可以用"),s("code",[e._v("--abort")]),e._v("参数来终止rebase的行动，并且"),s("code",[e._v("mywork")]),e._v(" 分支会回到"),s("code",[e._v("rebase")]),e._v("开始前的状态。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git rebase --abort\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])]),e._v(" "),s("li",[s("p",[s("code",[e._v("git checkout")]),e._v("："),s("code",[e._v("git checkout -b dev")]),e._v("，加上"),s("code",[e._v("-b")]),e._v("参数表示创建"),s("code",[e._v("dev")]),e._v("分支，然后切换到"),s("code",[e._v("dev")]),e._v("分支。")]),e._v(" "),s("p",[s("code",[e._v("git checkout dev")]),e._v(" 表示切换到 dev 分支。")])]),e._v(" "),s("li",[s("p",[s("code",[e._v("git branch")]),e._v("：列出所有分支。")])])]),e._v(" "),s("h3",{attrs:{id:"git-revert-和-git-reset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-revert-和-git-reset"}},[e._v("#")]),e._v(" git revert 和 git reset")]),e._v(" "),s("blockquote",[s("p",[e._v("这两个命令都用于撤销提交（commit 过）")])]),e._v(" "),s("p",[e._v("先看看 git reset 版本回退怎么操作")]),e._v(" "),s("p",[s("strong",[e._v("1.查找需要回退到的版本号")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git log\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("strong",[e._v("2.回退")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git reset --hard 版本号 \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("strong",[e._v("3."),s("code",[e._v("push")])])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git push -f\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("code",[e._v("git revert")])]),e._v(" "),s("blockquote",[s("p",[e._v("git revert是用于“反做”某一个版本，以达到撤销该版本的修改的目的。")])]),e._v(" "),s("p",[e._v("比如，我们commit了三个版本（版本一、版本二、 版本三），突然发现版本二不行（如：有bug），想要撤销版本二，但又不想影响撤销版本三的提交，就可以用 git revert 命令来反做版本二，生成新的版本四，这个版本四里会保留版本三的东西，但撤销了版本二的东西。如下图所示：")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://zhuzhu-chou.github.io/images/revert01.jpeg",alt:""}})]),e._v(" "),s("p",[s("img",{attrs:{src:"https://zhuzhu-chou.github.io/images/revert02.jpeg",alt:""}})]),e._v(" "),s("p",[s("strong",[e._v("适用场景：")]),e._v(" 如果我们想撤销之前的某一版本，但是又想保留该目标版本后面的版本，记录下这整个版本变动流程，就可以用这种方法。")]),e._v(" "),s("h4",{attrs:{id:"具体操作："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#具体操作："}},[e._v("#")]),e._v(" "),s("strong",[e._v("具体操作：")])]),e._v(" "),s("p",[e._v("举个例子，现在库里面有三个文件：READ.md、text.txt、text2.txt。\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190726111023401.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bHNoaw==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),e._v(" "),s("strong",[e._v("1. 查看版本号：")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git log\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190726105234748.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bHNoaw==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}}),e._v("\n也可以通过github网站图形化界面查看版本号：")]),e._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20190726105637358.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bHNoaw==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})]),e._v(" "),s("p",[e._v('找到需要"反做"的版本号。')]),e._v(" "),s("p",[s("strong",[e._v("2. 反做：")])]),e._v(" "),s("p",[s("strong",[e._v("（1）反做 revert")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git revert -n 8b8961\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("strong",[e._v("（2）解决可能的冲突")])]),e._v(" "),s("p",[e._v("手动解决后 "),s("code",[e._v("git add 文件名")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git commit -m ''\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[s("strong",[e._v("3.推送上去：")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("$ git push\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("此时查看仓库的文件，剩下两个：READ.md、text2.txt\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/201907261108187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l4bHNoaw==,size_16,color_FFFFFF,t_70",alt:"在这里插入图片描述"}})])])}],!1,null,null,null);t.default=v.exports}}]);