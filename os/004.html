<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>004.单处理机进程调度 | 猪猪的秋招历险记</title>
    <meta name="description" content="zhuzhu-chou">
    <link rel="icon" href="/images/photo.jpg">
  <link rel="manifest" href="/images/photo.jpg">
  <link rel="apple-touch-icon" href="/images/photo.jpg">
  <meta http-quiv="pragma" cotent="no-cache">
  <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
  <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.d824222e.css" as="style"><link rel="preload" href="/assets/js/app.d821a795.js" as="script"><link rel="preload" href="/assets/js/97.d244818c.js" as="script"><link rel="prefetch" href="/assets/js/10.e3f9d51e.js"><link rel="prefetch" href="/assets/js/100.e7c2e2a2.js"><link rel="prefetch" href="/assets/js/101.6c07d27a.js"><link rel="prefetch" href="/assets/js/102.887c413c.js"><link rel="prefetch" href="/assets/js/103.1d6d61be.js"><link rel="prefetch" href="/assets/js/104.e55ee457.js"><link rel="prefetch" href="/assets/js/105.412e30b0.js"><link rel="prefetch" href="/assets/js/106.c47f4df5.js"><link rel="prefetch" href="/assets/js/107.870b439e.js"><link rel="prefetch" href="/assets/js/108.4ec851bb.js"><link rel="prefetch" href="/assets/js/109.b07bd02b.js"><link rel="prefetch" href="/assets/js/11.d6d192f4.js"><link rel="prefetch" href="/assets/js/110.128281e6.js"><link rel="prefetch" href="/assets/js/111.4663864c.js"><link rel="prefetch" href="/assets/js/112.6047dd13.js"><link rel="prefetch" href="/assets/js/113.b8082ad5.js"><link rel="prefetch" href="/assets/js/114.b6ae0466.js"><link rel="prefetch" href="/assets/js/115.cf48bc1f.js"><link rel="prefetch" href="/assets/js/116.34d6c0af.js"><link rel="prefetch" href="/assets/js/117.58d44fab.js"><link rel="prefetch" href="/assets/js/118.ce894f2e.js"><link rel="prefetch" href="/assets/js/119.e2a7b804.js"><link rel="prefetch" href="/assets/js/12.40971e3f.js"><link rel="prefetch" href="/assets/js/120.011d3136.js"><link rel="prefetch" href="/assets/js/121.b169830b.js"><link rel="prefetch" href="/assets/js/122.786c3828.js"><link rel="prefetch" href="/assets/js/123.01d1848a.js"><link rel="prefetch" href="/assets/js/124.c441a520.js"><link rel="prefetch" href="/assets/js/125.21cdb4f9.js"><link rel="prefetch" href="/assets/js/126.e45c2624.js"><link rel="prefetch" href="/assets/js/127.ac38254f.js"><link rel="prefetch" href="/assets/js/128.f6d4d0bc.js"><link rel="prefetch" href="/assets/js/129.5a419e08.js"><link rel="prefetch" href="/assets/js/13.d1c5fbb0.js"><link rel="prefetch" href="/assets/js/130.de9b47d3.js"><link rel="prefetch" href="/assets/js/131.9646ee89.js"><link rel="prefetch" href="/assets/js/14.e34de0ff.js"><link rel="prefetch" href="/assets/js/15.472488b8.js"><link rel="prefetch" href="/assets/js/16.374db90a.js"><link rel="prefetch" href="/assets/js/17.5abb1dfa.js"><link rel="prefetch" href="/assets/js/18.c53d9795.js"><link rel="prefetch" href="/assets/js/19.695813fa.js"><link rel="prefetch" href="/assets/js/2.190ddb3b.js"><link rel="prefetch" href="/assets/js/20.a839cd57.js"><link rel="prefetch" href="/assets/js/21.4cb2c381.js"><link rel="prefetch" href="/assets/js/22.9ea4cd56.js"><link rel="prefetch" href="/assets/js/23.1c401a4a.js"><link rel="prefetch" href="/assets/js/24.09aeca42.js"><link rel="prefetch" href="/assets/js/25.de21a5fc.js"><link rel="prefetch" href="/assets/js/26.86fdb144.js"><link rel="prefetch" href="/assets/js/27.1902cbeb.js"><link rel="prefetch" href="/assets/js/28.d7221b51.js"><link rel="prefetch" href="/assets/js/29.0c4b19bd.js"><link rel="prefetch" href="/assets/js/3.a442116a.js"><link rel="prefetch" href="/assets/js/30.e86fdd69.js"><link rel="prefetch" href="/assets/js/31.627ce7d6.js"><link rel="prefetch" href="/assets/js/32.cd4da21e.js"><link rel="prefetch" href="/assets/js/33.02a73b45.js"><link rel="prefetch" href="/assets/js/34.15aefe4e.js"><link rel="prefetch" href="/assets/js/35.001e95e9.js"><link rel="prefetch" href="/assets/js/36.f84a31ae.js"><link rel="prefetch" href="/assets/js/37.454325b3.js"><link rel="prefetch" href="/assets/js/38.87055225.js"><link rel="prefetch" href="/assets/js/39.257a4c49.js"><link rel="prefetch" href="/assets/js/4.d1e9d328.js"><link rel="prefetch" href="/assets/js/40.2e2df2e4.js"><link rel="prefetch" href="/assets/js/41.d00e84a7.js"><link rel="prefetch" href="/assets/js/42.ab66a6dc.js"><link rel="prefetch" href="/assets/js/43.a93faa3d.js"><link rel="prefetch" href="/assets/js/44.68edf81d.js"><link rel="prefetch" href="/assets/js/45.cecb8a02.js"><link rel="prefetch" href="/assets/js/46.39db2fdd.js"><link rel="prefetch" href="/assets/js/47.a37ba526.js"><link rel="prefetch" href="/assets/js/48.aad0e3f7.js"><link rel="prefetch" href="/assets/js/49.1364378d.js"><link rel="prefetch" href="/assets/js/5.7c48898c.js"><link rel="prefetch" href="/assets/js/50.b454c855.js"><link rel="prefetch" href="/assets/js/51.975f3695.js"><link rel="prefetch" href="/assets/js/52.b14c05b8.js"><link rel="prefetch" href="/assets/js/53.a81e51d9.js"><link rel="prefetch" href="/assets/js/54.0aeecb53.js"><link rel="prefetch" href="/assets/js/55.a31903b4.js"><link rel="prefetch" href="/assets/js/56.c109660e.js"><link rel="prefetch" href="/assets/js/57.1c308b8b.js"><link rel="prefetch" href="/assets/js/58.d4357baa.js"><link rel="prefetch" href="/assets/js/59.14a4c834.js"><link rel="prefetch" href="/assets/js/6.7e06078c.js"><link rel="prefetch" href="/assets/js/60.f4887bd5.js"><link rel="prefetch" href="/assets/js/61.5e7bbbf3.js"><link rel="prefetch" href="/assets/js/62.3a1a0a65.js"><link rel="prefetch" href="/assets/js/63.8702baf6.js"><link rel="prefetch" href="/assets/js/64.f5bd3f4f.js"><link rel="prefetch" href="/assets/js/65.204fd742.js"><link rel="prefetch" href="/assets/js/66.e6f9fa2e.js"><link rel="prefetch" href="/assets/js/67.657fbd99.js"><link rel="prefetch" href="/assets/js/68.2665ac26.js"><link rel="prefetch" href="/assets/js/69.e09f9aee.js"><link rel="prefetch" href="/assets/js/7.6067a04e.js"><link rel="prefetch" href="/assets/js/70.c8081156.js"><link rel="prefetch" href="/assets/js/71.4bfa1695.js"><link rel="prefetch" href="/assets/js/72.9c9e4b3b.js"><link rel="prefetch" href="/assets/js/73.367500e5.js"><link rel="prefetch" href="/assets/js/74.334b5675.js"><link rel="prefetch" href="/assets/js/75.e70148f8.js"><link rel="prefetch" href="/assets/js/76.e099e1e8.js"><link rel="prefetch" href="/assets/js/77.ca3873ff.js"><link rel="prefetch" href="/assets/js/78.47cf4f3b.js"><link rel="prefetch" href="/assets/js/79.de61ae29.js"><link rel="prefetch" href="/assets/js/8.f956270d.js"><link rel="prefetch" href="/assets/js/80.e2023d3e.js"><link rel="prefetch" href="/assets/js/81.db665f6c.js"><link rel="prefetch" href="/assets/js/82.0fcbe517.js"><link rel="prefetch" href="/assets/js/83.f546847b.js"><link rel="prefetch" href="/assets/js/84.332592a6.js"><link rel="prefetch" href="/assets/js/85.ea13def4.js"><link rel="prefetch" href="/assets/js/86.50c7ec50.js"><link rel="prefetch" href="/assets/js/87.93f71ee2.js"><link rel="prefetch" href="/assets/js/88.0daff6bc.js"><link rel="prefetch" href="/assets/js/89.1c6d7c6c.js"><link rel="prefetch" href="/assets/js/9.59ce1950.js"><link rel="prefetch" href="/assets/js/90.9b2e9f20.js"><link rel="prefetch" href="/assets/js/91.89de4b55.js"><link rel="prefetch" href="/assets/js/92.447d9f68.js"><link rel="prefetch" href="/assets/js/93.d924823b.js"><link rel="prefetch" href="/assets/js/94.a9b22af4.js"><link rel="prefetch" href="/assets/js/95.5ad985f1.js"><link rel="prefetch" href="/assets/js/96.3af25c39.js"><link rel="prefetch" href="/assets/js/98.3af13f67.js"><link rel="prefetch" href="/assets/js/99.2173d072.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d824222e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">猪猪的秋招历险记</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/accumulate/" class="nav-link">前端基础</a></div><div class="nav-item"><a href="https://github.com/thinkerHope/algorithm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法题库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/others/" class="nav-link">诗和远方</a></div><div class="nav-item"><a href="/os/thinkerhope.github.io.html" class="nav-link">博客</a></div><div class="nav-item"><a href="https://github.com/thinkerHope" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/accumulate/" class="nav-link">前端基础</a></div><div class="nav-item"><a href="https://github.com/thinkerHope/algorithm" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法题库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/others/" class="nav-link">诗和远方</a></div><div class="nav-item"><a href="/os/thinkerhope.github.io.html" class="nav-link">博客</a></div><div class="nav-item"><a href="https://github.com/thinkerHope" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>前端知识体系</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JS-V8引擎原理</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JS-其它API原理</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JS-基础</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>JS-异步编程及异步IO</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>ES6</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>HTTP协议</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>TCP协议</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Chromium-渲染篇</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Chromium-安全篇</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>计网</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>os</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/os/001.html" class="sidebar-link">进程和线程的区别</a></li><li><a href="/os/002.html" class="sidebar-link">进程通信&amp;线程通信</a></li><li><a href="/os/003.html" class="sidebar-link">进程和线程的区别</a></li><li><a href="/os/004.html" aria-current="page" class="active sidebar-link">004.单处理机进程调度</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/os/004.html#先到先得-first-come-first-served-fcfs" class="sidebar-link">先到先得(First-Come-First-Served, FCFS)</a></li><li class="sidebar-sub-header"><a href="/os/004.html#轮转" class="sidebar-link">轮转</a></li><li class="sidebar-sub-header"><a href="/os/004.html#最短进程优先-shortest-process-next-spn" class="sidebar-link">最短进程优先(Shortest Process Next, SPN)</a></li><li class="sidebar-sub-header"><a href="/os/004.html#最短剩余时间-shortest-remaining-time-srt" class="sidebar-link">最短剩余时间(Shortest Remaining Time, SRT)</a></li><li class="sidebar-sub-header"><a href="/os/004.html#最高响应比优先-hrrn" class="sidebar-link">最高响应比优先(HRRN)</a></li><li class="sidebar-sub-header"><a href="/os/004.html#反馈法" class="sidebar-link">反馈法</a></li></ul></li><li><a href="/os/005.html" class="sidebar-link">死锁</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>git</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>框架</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><p>单处理器进程<strong>调度策略</strong></p> <h2 id="先到先得-first-come-first-served-fcfs"><a href="#先到先得-first-come-first-served-fcfs" class="header-anchor">#</a> 先到先得(First-Come-First-Served, FCFS)</h2> <ul><li><strong>FCFS 对<code>短进程</code>不利</strong>。长进程长时间霸占CPU资源。</li> <li><strong>FCFS 对<code>I/O密集</code>不利</strong>。I/O密集型进程(这里特指同步I/O)在进行I/O操作时，会阻塞休眠，这会导致进程重新被放入就绪队列，等待下一次被宠幸。</li></ul> <h2 id="轮转"><a href="#轮转" class="header-anchor">#</a> 轮转</h2> <p>这是一种基于时钟的<strong>抢占策略</strong>，这也是抢占策略中最简单的一种: <strong>公平地给每一个进程一定的执行时间，当时间消耗完毕或阻塞，操作系统就会调度其他进程，将执行权抢占过来</strong>。</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p><strong>决策模式</strong>: <code>抢占策略</code>相对应的有<code>非抢占策略</code>，非抢占策略指的是让进程运行直到结束、阻塞(如I/O或睡眠)、或者主动让出控制权；抢占策略支持中断正在运行的进程，将主动权掌握在操作系统这里，不过通常开销会比较大。</p></div> <p>这种调度策略的要点是<strong>确定合适的时间片长度</strong>： 太长了，长进程霸占太久资源，其他进程会得不到响应(等待执行时间过长)，这时候就跟上述的 <code>FCFS</code> 没什么区别了;  太短了也不好，因为进程抢占和切换都是需要成本的，而且成本不低，时间片太短，时间可能都浪费在上下文切换上了，导致进程干不了什么实事。</p> <p>因此<strong>时间片的长度最好符合大部分进程完成一次典型交互所需的时间</strong>。</p> <p>另外和<code>FCFS</code>一样，轮转策略对<strong>I/O进程</strong>还是不公平。</p> <h2 id="最短进程优先-shortest-process-next-spn"><a href="#最短进程优先-shortest-process-next-spn" class="header-anchor">#</a> 最短进程优先(Shortest Process Next, SPN)</h2> <p>上面说了<code>先到先得</code>策略对<code>短进程</code>不公平，<code>最短进程优先</code>索性就让'最短'的进程优先执行，也就是说: <strong>按照进程的预估执行时间对进程进行优先级排序，先执行完短进程，后执行长进程。这是一种非抢占策略</strong>。</p> <p>这样可以让短进程能得到较快的响应。但是怎么获取或者<strong>评估进程执行时间</strong>呢？一是让程序的提供者提供，这不太靠谱；二是由操作系统来收集进程运行数据，并对它们进程统计分析。例如最简单的是计算它们的平均运行时间。不管怎么说都比上面两种策略要复杂一点。</p> <p><code>SPN</code> 的缺陷是：<strong><code>长进程饥饿</code></strong>，如果系统有大量的短进程，那么长进程可能会饥饿得不到响应。</p> <p>另外因为它不是抢占性策略， 尽管现在短进程可以得到更多的执行机会，但是还是没有解决 <code>FCFS</code> 的问题： 一旦长进程得到CPU资源，得等它执行完，导致后面的进程得不到响应。</p> <h2 id="最短剩余时间-shortest-remaining-time-srt"><a href="#最短剩余时间-shortest-remaining-time-srt" class="header-anchor">#</a> 最短剩余时间(Shortest Remaining Time, SRT)</h2> <p><strong>SRT 进一步优化了 SPN，增加了抢占机制</strong>。在 SPN 的基础上，当一个进程添加到就绪队列时，操作系统会比较<em>刚添加的新进程</em>和<em>当前正在执行的老进程</em>的**<code>剩余时间</code>**，如果新进程剩余时间更短，新进程就会抢占老进程。</p> <p>相比轮转的抢占，SRT 没有中断处理的开销。但是在 SPN 的基础上，操作系统需要记录进程的历史执行时间，这是新增的开销。<strong>另外长进程饥饿问题还是没有解决</strong>。</p> <h2 id="最高响应比优先-hrrn"><a href="#最高响应比优先-hrrn" class="header-anchor">#</a> 最高响应比优先(HRRN)</h2> <p><strong>为了解决长进程饥饿问题，同时提高进程的响应速率</strong>。还有一种<code>最高响应比优先的</code>策略，首先了解什么是响应比:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>响应比 = （等待执行时间 + 进程执行时间） / 进程执行时间
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>这种策略会选择响应比最高的进程优先执行</strong>：</p> <ul><li>对于短进程来说，因为执行时间很短，分母很小，所以响应比比较高，会被优先执行</li> <li>对于长进程来说，执行时间长，一开始响应比小，但是随着等待时间增长，它的优先级会越来越高，最终可以被执行</li></ul> <h2 id="反馈法"><a href="#反馈法" class="header-anchor">#</a> 反馈法</h2> <p>SPN、SRT、HRRN 都需要对进程时间进行评估和统计，实现比较复杂且需要一定开销。而反馈法采取的是<strong>事后反馈</strong>的方式。这种策略下: <strong>每个进程一开始都有相同的优先级，每次被抢占(需要配合其他抢占策略使用，如轮转)，优先级就会降低一级。因此通常它会根据优先级划分多个队列</strong>。</p> <p>举个例子:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>队列1
队列2
...
队列N
复制代码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>新增的任务会推入<code>队列1</code>，<code>队列1</code>会按照<code>轮转策略</code>以一个时间片为单位进行调度。短进程可以很快得到响应，而对于长进程可能一个时间片处理不完，就会被抢占，放入<code>队列2</code>。</p> <p><code>队列2</code>会在<code>队列1</code>任务清空后被执行，有时候低优先级队列可能会等待很久才被执行，所以一般会给予一定的补偿，例如增加执行时间，所以<code>队列2</code>的轮转时间片长度是2。</p> <p>反馈法仍然可能导致长进程饥饿，所以操作系统可以统计长进程的等待时间，当等待时间超过一定的阈值，可以选择提高它们的优先级。</p> <p><img src="https://user-gold-cdn.xitu.io/2019/10/21/16deecc24dfd080c?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>没有一种调度策略是万能的, 它需要考虑很多因素:</p> <ul><li>响应速率。进程等待被执行的时间</li> <li>公平性。兼顾短进程、长进程、I/O进程</li></ul> <p>这两者在某些情况下是对立的，提高了响应，可能会减低公平性，导致饥饿。短进程、长进程、I/O进程之间要取得平衡也非常难。</p> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>现实世界操作系统的进程调度算法比教科书上说的要复杂的多</p></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/os/003.html" class="prev">
          进程和线程的区别
        </a></span> <span class="next"><a href="/os/005.html">
          死锁
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.d821a795.js" defer></script><script src="/assets/js/97.d244818c.js" defer></script>
  </body>
</html>
